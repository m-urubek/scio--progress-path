{
  "steps": [
    {
      "description": "Create a new Enums.cs file defining all enumerations needed by the data models. Define: 1) UserRole enum with single value 'Teacher' (int 0), 2) GoalType enum with values 'Binary' (int 0) and 'Percentage' (int 1), 3) AlertType enum with values 'OffTopic' (int 0) and 'Inactivity' (int 1). Add namespace 'ProgressPath.Models' and include XML documentation comments for each enum and value.",
      "file": "/Users/mu/Coding/scio--progress-path/ProgressPath/Models/Enums.cs",
      "action": "create"
    },
    {
      "description": "Create the User entity class representing teachers. Properties: Id (int, primary key), Email (string, required, max 256 chars), DisplayName (string, required, max 100 chars), ProfilePictureUrl (string, nullable, max 500 chars), Role (UserRole enum, defaults to Teacher), GoogleId (string, required, unique, max 128 chars), CreatedAt (DateTime, defaults to UtcNow). Add navigation property: ICollection<Group> Groups for the one-to-many relationship with groups. Add namespace 'ProgressPath.Models' and using statement for System.",
      "file": "/Users/mu/Coding/scio--progress-path/ProgressPath/Models/User.cs",
      "action": "create"
    },
    {
      "description": "Create the Group entity class. Properties: Id (int, primary key), Name (string, required, max 100 chars), JoinCode (string, required, unique, 6-8 chars), GoalDescription (string, required, max 500 chars - per REQ-GROUP-004), GoalType (GoalType enum), TotalSteps (int?, nullable, min 2 when GoalType is Percentage per REQ-GOAL-005), GoalInterpretation (string, nullable - stores JSON interpretation from AI), IsConfirmed (bool, default false), WelcomeMessage (string, nullable, max 1000 chars), TeacherId (int, foreign key to User), CreatedAt (DateTime, defaults to UtcNow). Add navigation properties: User Teacher, ICollection<StudentSession> StudentSessions. Add namespace 'ProgressPath.Models'.",
      "file": "/Users/mu/Coding/scio--progress-path/ProgressPath/Models/Group.cs",
      "action": "create"
    },
    {
      "description": "Create the StudentSession entity class representing a student's session in a group. Properties: Id (int, primary key), GroupId (int, foreign key to Group), Nickname (string, required, max 50 chars - must be unique within group per REQ-GROUP-016), DeviceId (string, required, max 256 chars), CurrentProgress (int, default 0 - represents completed steps), IsCompleted (bool, default false), OffTopicWarningCount (int, default 0), HasActiveAlert (bool, default false), AlertType (AlertType?, nullable - current active alert type), LastActivityAt (DateTime, nullable), JoinedAt (DateTime, defaults to UtcNow). Add navigation properties: Group Group, ICollection<ChatMessage> ChatMessages, ICollection<HelpAlert> HelpAlerts. Add namespace 'ProgressPath.Models'.",
      "file": "/Users/mu/Coding/scio--progress-path/ProgressPath/Models/StudentSession.cs",
      "action": "create"
    },
    {
      "description": "Create the ChatMessage entity class. Properties: Id (int, primary key), StudentSessionId (int, foreign key to StudentSession), Content (string, required, max 4000 chars), IsFromStudent (bool), ContributesToProgress (bool, default false - per REQ-AI-028), IsOffTopic (bool, default false), Timestamp (DateTime, defaults to UtcNow). Add navigation property: StudentSession StudentSession. Add namespace 'ProgressPath.Models'.",
      "file": "/Users/mu/Coding/scio--progress-path/ProgressPath/Models/ChatMessage.cs",
      "action": "create"
    },
    {
      "description": "Create the HelpAlert entity class. Properties: Id (int, primary key), StudentSessionId (int, foreign key to StudentSession), AlertType (AlertType enum), IsResolved (bool, default false), CreatedAt (DateTime, defaults to UtcNow), ResolvedAt (DateTime?, nullable). Add navigation property: StudentSession StudentSession. Add namespace 'ProgressPath.Models'.",
      "file": "/Users/mu/Coding/scio--progress-path/ProgressPath/Models/HelpAlert.cs",
      "action": "create"
    },
    {
      "description": "Create the ProgressPathDbContext class inheriting from DbContext. Add constructor accepting DbContextOptions<ProgressPathDbContext>. Define DbSet properties: Users (DbSet<User>), Groups (DbSet<Group>), StudentSessions (DbSet<StudentSession>), ChatMessages (DbSet<ChatMessage>), HelpAlerts (DbSet<HelpAlert>). Override OnModelCreating to configure: 1) User: GoogleId unique index, Email index; 2) Group: JoinCode unique index, TeacherId foreign key with DeleteBehavior.Cascade; 3) StudentSession: composite unique index on (GroupId, DeviceId), unique index on (GroupId, Nickname), GroupId foreign key with DeleteBehavior.Cascade; 4) ChatMessage: index on StudentSessionId, foreign key with DeleteBehavior.Cascade, index on Timestamp; 5) HelpAlert: index on StudentSessionId, foreign key with DeleteBehavior.Cascade, index on IsResolved. Add namespace 'ProgressPath.Data' and required usings for Microsoft.EntityFrameworkCore and ProgressPath.Models.",
      "file": "/Users/mu/Coding/scio--progress-path/ProgressPath/Data/ProgressPathDbContext.cs",
      "action": "create"
    },
    {
      "description": "Add the Microsoft.EntityFrameworkCore.Design package reference to the csproj file. Add: <PackageReference Include=\"Microsoft.EntityFrameworkCore.Design\" Version=\"8.0.11\" />. This package is required for EF Core CLI migrations support (dotnet ef migrations add, etc.).",
      "file": "/Users/mu/Coding/scio--progress-path/ProgressPath/ProgressPath.csproj",
      "action": "modify"
    },
    {
      "description": "Modify Program.cs to register the ProgressPathDbContext with dependency injection. Remove the TODO comment and add: 'using Microsoft.EntityFrameworkCore;' and 'using ProgressPath.Data;' at the top. Replace the commented-out DbContext registration with: builder.Services.AddDbContext<ProgressPathDbContext>(options => options.UseSqlServer(builder.Configuration.GetConnectionString(\"DefaultConnection\")));",
      "file": "/Users/mu/Coding/scio--progress-path/ProgressPath/Program.cs",
      "action": "modify"
    }
  ],
  "considerations": [
    "TotalSteps must be at least 2 for Percentage goals (REQ-GOAL-005). This constraint should be documented in the model but enforced at the application layer or via a check constraint since EF Core doesn't natively support conditional validation.",
    "JoinCode uniqueness is critical for group joining (REQ-GROUP-002, REQ-GROUP-005). The unique index ensures database-level enforcement.",
    "The (GroupId, DeviceId) composite unique constraint enforces one device per group (REQ-GROUP-017), while (GroupId, Nickname) ensures unique nicknames within a group (REQ-GROUP-016).",
    "GoalInterpretation is stored as a JSON string rather than using EF Core's JSON column support for maximum compatibility across SQL Server versions.",
    "AlertType on StudentSession is nullable because a student may not have any active alert, while HelpAlert.AlertType is required since every alert has a type.",
    "DeleteBehavior.Cascade is used for all foreign keys to ensure proper cleanup - deleting a User removes their Groups, deleting a Group removes StudentSessions, etc.",
    "ChatMessage.ContributesToProgress flag implements REQ-AI-028 for pre-computing which messages advanced the goal.",
    "The DeviceId is stored as string to accommodate various device identification strategies (localStorage GUID, etc.).",
    "Indexes on frequently queried fields (StudentSessionId, Timestamp, IsResolved) optimize dashboard and chat queries.",
    "The EF Core Design package is needed for migrations but should only be used during development - it's a design-time dependency."
  ],
  "filesToRead": [
    "/Users/mu/Coding/scio--progress-path/ProgressPath/ProgressPath.csproj",
    "/Users/mu/Coding/scio--progress-path/ProgressPath/Program.cs",
    "/Users/mu/Coding/scio--progress-path/ProgressPath/appsettings.json"
  ]
}